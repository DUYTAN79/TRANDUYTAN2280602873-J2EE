<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Thêm sản phẩm mới</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .form-container {
            max-width: 600px;
            margin: 50px auto;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body class="bg-light">

<div class="container">
    <div class="form-container">
        <h2 class="text-center fw-bold text-success mb-4">THÊM SẢN PHẨM MỚI</h2>
        <hr>

        <form th:action="@{/products/add}" th:object="${product}" method="post" enctype="multipart/form-data" class="needs-validation">

            <div class="mb-3">
                <label class="form-label fw-bold">Tên sản phẩm</label>
                <input type="text" th:field="*{name}"
                       class="form-control"
                       th:classappend="${#fields.hasErrors('name')} ? 'is-invalid'"
                       placeholder="Ví dụ: iPhone 15 Pro Max">
                <div class="invalid-feedback" th:errors="*{name}"></div>
            </div>

            <div class="mb-3">
                <label class="form-label fw-bold">Giá bán (VNĐ)</label>
                <input type="number" th:field="*{price}"
                       class="form-control"
                       th:classappend="${#fields.hasErrors('price')} ? 'is-invalid'"
                       placeholder="Nhập giá từ 1 - 9,999,999">
                <div class="invalid-feedback" th:errors="*{price}"></div>
            </div>

            <div class="mb-3">
                <label class="form-label fw-bold">Danh mục sản phẩm</label>
                <select th:field="*{category}" class="form-select">
                    <option th:each="cat : ${categories}"
                            th:value="${cat}"
                            th:text="${cat}"></option>
                </select>
            </div>

            <div class="mb-4">
                <label class="form-label fw-bold">Hình ảnh sản phẩm</label>
                <input type="file" name="imageFile"
                       class="form-control"
                       th:classappend="${#fields.hasErrors('image')} ? 'is-invalid'"
                       accept="image/*">
                <div class="invalid-feedback" th:errors="*{image}"></div>
                <div class="form-text text-muted mt-2 small">Định dạng hỗ trợ: JPG, PNG, WEBP (Tối đa 200 kí tự tên file)</div>
            </div>

            <div class="d-grid gap-2">
                <button type="submit" class="btn btn-success fw-bold py-2">
                    Lưu sản phẩm
                </button>
                <a th:href="@{/products}" class="btn btn-outline-secondary py-2">
                    Hủy bỏ & Quay lại
                </a>
            </div>

        </form>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>